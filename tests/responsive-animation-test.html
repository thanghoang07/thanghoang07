<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üì±üé≠ Responsive & Animation Test Results</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .test-dashboard {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .status-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .status-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
        }
        
        .status-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }
        
        .status-icon {
            font-size: 2rem;
            margin-right: 12px;
        }
        
        .status-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2d3436;
        }
        
        .status-score {
            font-size: 2.5rem;
            font-weight: 700;
            text-align: center;
            margin: 16px 0;
            background: linear-gradient(135deg, #00b894, #00cec9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .status-details {
            font-size: 0.9rem;
            color: #636e72;
            line-height: 1.5;
        }
        
        .responsive-demo {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 24px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
        }
        
        .responsive-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }
        
        .responsive-item {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .responsive-item:hover {
            transform: scale(1.05) rotate(2deg);
            box-shadow: 0 8px 24px rgba(116, 185, 255, 0.4);
        }
        
        .animation-showcase {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .animation-item {
            height: 120px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
        }
        
        .bounce-demo {
            background: linear-gradient(135deg, #fd79a8, #e84393);
            animation: bounce 2s infinite;
        }
        
        .fade-demo {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            animation: fadeInUp 2s ease infinite alternate;
        }
        
        .rotate-demo {
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            animation: rotate 3s linear infinite;
        }
        
        .pulse-demo {
            background: linear-gradient(135deg, #00b894, #00cec9);
            animation: pulse 1.5s ease infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }
        
        @keyframes fadeInUp {
            from { opacity: 0.5; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .test-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin: 30px 0;
        }
        
        .test-button {
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(108, 92, 231, 0.4);
        }
        
        .test-button:active {
            transform: translateY(0);
        }
        
        .viewport-info {
            background: rgba(45, 52, 54, 0.9);
            color: white;
            padding: 16px;
            border-radius: 12px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
        }
        
        .breakpoint-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            z-index: 1000;
        }
        
        /* Responsive Breakpoints */
        @media (max-width: 768px) {
            .header h1 { font-size: 2rem; }
            .status-grid { grid-template-columns: 1fr; }
            .responsive-grid { grid-template-columns: 1fr; }
            .animation-showcase { grid-template-columns: repeat(2, 1fr); }
            .test-dashboard { padding: 10px; }
        }
        
        @media (max-width: 480px) {
            .animation-showcase { grid-template-columns: 1fr; }
            .test-controls { flex-direction: column; align-items: center; }
        }
        
        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            .animation-item { animation: none !important; }
            .status-card:hover { transform: none; }
            .responsive-item:hover { transform: scale(1.02); }
        }
    </style>
</head>
<body>
    <div class="breakpoint-indicator" id="breakpointIndicator">
        Desktop
    </div>
    
    <div class="test-dashboard">
        <div class="header">
            <h1>üì±üé≠ Responsive & Animation Test</h1>
            <p>Comprehensive testing c·ªßa unified portfolio features</p>
        </div>
        
        <div class="status-grid">
            <div class="status-card">
                <div class="status-header">
                    <span class="status-icon">üì±</span>
                    <span class="status-title">Responsive Design</span>
                </div>
                <div class="status-score" id="responsiveScore">--</div>
                <div class="status-details" id="responsiveDetails">
                    ƒêang test responsive breakpoints...
                </div>
            </div>
            
            <div class="status-card">
                <div class="status-header">
                    <span class="status-icon">üé≠</span>
                    <span class="status-title">Animations</span>
                </div>
                <div class="status-score" id="animationScore">--</div>
                <div class="status-details" id="animationDetails">
                    ƒêang test CSS animations & transitions...
                </div>
            </div>
            
            <div class="status-card">
                <div class="status-header">
                    <span class="status-icon">‚ö°</span>
                    <span class="status-title">Performance</span>
                </div>
                <div class="status-score" id="performanceScore">--</div>
                <div class="status-details" id="performanceDetails">
                    ƒêang ƒëo performance metrics...
                </div>
            </div>
            
            <div class="status-card">
                <div class="status-header">
                    <span class="status-icon">üöÄ</span>
                    <span class="status-title">Unified Features</span>
                </div>
                <div class="status-score" id="unifiedScore">--</div>
                <div class="status-details" id="unifiedDetails">
                    ƒêang ki·ªÉm tra unified modules...
                </div>
            </div>
        </div>
        
        <div class="responsive-demo">
            <h2>üì± Responsive Grid Demo</h2>
            <p>Resize browser window ƒë·ªÉ test responsive behavior:</p>
            <div class="responsive-grid">
                <div class="responsive-item">Item 1<br><small>Grid Column</small></div>
                <div class="responsive-item">Item 2<br><small>Auto Resize</small></div>
                <div class="responsive-item">Item 3<br><small>Flexible</small></div>
                <div class="responsive-item">Item 4<br><small>Responsive</small></div>
            </div>
            
            <div class="viewport-info" id="viewportInfo">
                Viewport: Loading...
            </div>
        </div>
        
        <div class="responsive-demo">
            <h2>üé≠ Animation Showcase</h2>
            <p>C√°c animation effects ƒëang ho·∫°t ƒë·ªông:</p>
            <div class="animation-showcase">
                <div class="animation-item bounce-demo">Bounce</div>
                <div class="animation-item fade-demo">Fade</div>
                <div class="animation-item rotate-demo">Rotate</div>
                <div class="animation-item pulse-demo">Pulse</div>
            </div>
        </div>
        
        <div class="test-controls">
            <button class="test-button" onclick="runResponsiveTest()">
                üì± Test Responsive
            </button>
            <button class="test-button" onclick="runAnimationTest()">
                üé≠ Test Animations
            </button>
            <button class="test-button" onclick="runPerformanceTest()">
                ‚ö° Test Performance
            </button>
            <button class="test-button" onclick="runFullTest()">
                üöÄ Run All Tests
            </button>
        </div>
    </div>

    <script>
        // Test Configuration
        const BREAKPOINTS = {
            mobile: 480,
            tablet: 768,
            desktop: 1024,
            large: 1200
        };
        
        // Test Results Storage
        let testResults = {
            responsive: { score: 0, details: '' },
            animation: { score: 0, details: '' },
            performance: { score: 0, details: '' },
            unified: { score: 0, details: '' }
        };
        
        // Initialize Tests
        function initTests() {
            updateViewportInfo();
            updateBreakpointIndicator();
            
            // Auto-run basic tests
            setTimeout(() => {
                runResponsiveTest();
                runAnimationTest();
                runPerformanceTest();
                checkUnifiedFeatures();
            }, 1000);
        }
        
        // Responsive Tests
        function runResponsiveTest() {
            const viewport = {
                width: window.innerWidth,
                height: window.innerHeight,
                ratio: window.devicePixelRatio || 1
            };
            
            // Determine breakpoint
            let breakpoint = 'mobile';
            if (viewport.width >= BREAKPOINTS.large) breakpoint = 'large';
            else if (viewport.width >= BREAKPOINTS.desktop) breakpoint = 'desktop';
            else if (viewport.width >= BREAKPOINTS.tablet) breakpoint = 'tablet';
            
            // Test grid responsiveness
            const gridElements = document.querySelectorAll('.responsive-grid, .status-grid');
            const gridResponsive = Array.from(gridElements).every(grid => {
                const style = window.getComputedStyle(grid);
                return style.display === 'grid';
            });
            
            // Calculate score
            let score = 70; // Base score
            if (gridResponsive) score += 15;
            if (viewport.width >= 320) score += 15; // Minimum mobile width
            
            // Update UI
            testResults.responsive = {
                score,
                details: `Breakpoint: ${breakpoint}<br>Viewport: ${viewport.width}x${viewport.height}<br>Grid: ${gridResponsive ? '‚úÖ' : '‚ùå'}`
            };
            
            document.getElementById('responsiveScore').textContent = score;
            document.getElementById('responsiveDetails').innerHTML = testResults.responsive.details;
            
            console.log('üì± Responsive test completed:', { score, breakpoint, viewport });
        }
        
        // Animation Tests
        function runAnimationTest() {
            // Test CSS support
            const supportsAnimations = CSS.supports('animation', 'bounce 1s');
            const supportsTransforms = CSS.supports('transform', 'translateY(0)');
            const supportsTransitions = CSS.supports('transition', 'all 0.3s ease');
            
            // Test animation elements
            const animationElements = document.querySelectorAll('.animation-item');
            const hasAnimations = animationElements.length > 0;
            
            // Test hover effects
            const hoverElements = document.querySelectorAll('.status-card, .responsive-item');
            const hasHoverEffects = hoverElements.length > 0;
            
            // Calculate score
            let score = 0;
            if (supportsAnimations) score += 25;
            if (supportsTransforms) score += 25;
            if (supportsTransitions) score += 25;
            if (hasAnimations) score += 15;
            if (hasHoverEffects) score += 10;
            
            // Update UI
            testResults.animation = {
                score,
                details: `CSS Animations: ${supportsAnimations ? '‚úÖ' : '‚ùå'}<br>Transforms: ${supportsTransforms ? '‚úÖ' : '‚ùå'}<br>Transitions: ${supportsTransitions ? '‚úÖ' : '‚ùå'}<br>Animation Elements: ${animationElements.length}`
            };
            
            document.getElementById('animationScore').textContent = score;
            document.getElementById('animationDetails').innerHTML = testResults.animation.details;
            
            console.log('üé≠ Animation test completed:', { score, support: { supportsAnimations, supportsTransforms, supportsTransitions } });
        }
        
        // Performance Tests
        function runPerformanceTest() {
            const startTime = performance.now();
            
            // Get navigation timing
            const navigation = performance.getEntriesByType('navigation')[0];
            const loadTime = navigation ? navigation.loadEventEnd - navigation.loadEventStart : 0;
            
            // Get paint timing
            const paintEntries = performance.getEntriesByType('paint');
            let fcp = 0;
            paintEntries.forEach(entry => {
                if (entry.name === 'first-contentful-paint') {
                    fcp = entry.startTime;
                }
            });
            
            // Test frame rate
            let frameCount = 0;
            const frameStart = Date.now();
            
            function countFrames() {
                frameCount++;
                if (Date.now() - frameStart < 1000) {
                    requestAnimationFrame(countFrames);
                } else {
                    const fps = frameCount;
                    const testDuration = performance.now() - startTime;
                    
                    // Calculate score
                    let score = 0;
                    if (fcp < 2000) score += 30;
                    if (loadTime < 3000) score += 30;
                    if (fps >= 55) score += 25;
                    if (testDuration < 100) score += 15;
                    
                    // Update UI
                    testResults.performance = {
                        score,
                        details: `First Contentful Paint: ${Math.round(fcp)}ms<br>Load Time: ${Math.round(loadTime)}ms<br>Frame Rate: ${fps} FPS<br>Test Duration: ${Math.round(testDuration)}ms`
                    };
                    
                    document.getElementById('performanceScore').textContent = score;
                    document.getElementById('performanceDetails').innerHTML = testResults.performance.details;
                    
                    console.log('‚ö° Performance test completed:', { score, fcp, loadTime, fps });
                }
            }
            
            requestAnimationFrame(countFrames);
        }
        
        // Unified Features Test
        function checkUnifiedFeatures() {
            const features = {
                performance: window.unifiedPerformanceManager || window.UnifiedPerformanceManager,
                system: window.unifiedSystemManager || window.UnifiedSystemManager,
                interactions: window.unifiedInteractions || window.UnifiedInteractionsManager
            };
            
            const loadedCount = Object.values(features).filter(f => f).length;
            const score = Math.round((loadedCount / 3) * 100);
            
            const featureStatus = Object.entries(features).map(([name, feature]) => {
                return `${name}: ${feature ? '‚úÖ' : '‚ùå'}`;
            }).join('<br>');
            
            testResults.unified = {
                score,
                details: `${featureStatus}<br>Loaded: ${loadedCount}/3 systems`
            };
            
            document.getElementById('unifiedScore').textContent = score;
            document.getElementById('unifiedDetails').innerHTML = testResults.unified.details;
            
            console.log('üöÄ Unified features test completed:', { score, loadedCount, features });
        }
        
        // Full Test Suite
        function runFullTest() {
            console.log('üß™ Running full test suite...');
            
            runResponsiveTest();
            setTimeout(() => runAnimationTest(), 200);
            setTimeout(() => runPerformanceTest(), 400);
            setTimeout(() => checkUnifiedFeatures(), 600);
            
            setTimeout(() => {
                const totalScore = Math.round(
                    (testResults.responsive.score + 
                     testResults.animation.score + 
                     testResults.performance.score + 
                     testResults.unified.score) / 4
                );
                
                console.log(`üèÜ FINAL SCORE: ${totalScore}/100`);
                console.log('üìä Detailed Results:', testResults);
                
                // Store results
                sessionStorage.setItem('portfolioTestResults', JSON.stringify(testResults, null, 2));
                
                alert(`üèÜ Test Complete!\nOverall Score: ${totalScore}/100\n\nCheck console for details.`);
            }, 1000);
        }
        
        // Utility Functions
        function updateViewportInfo() {
            const info = {
                width: window.innerWidth,
                height: window.innerHeight,
                pixelRatio: window.devicePixelRatio || 1,
                orientation: window.orientation || 'N/A',
                touchSupport: 'ontouchstart' in window
            };
            
            document.getElementById('viewportInfo').innerHTML = `
                Viewport: ${info.width} x ${info.height}px<br>
                Pixel Ratio: ${info.pixelRatio}<br>
                Touch Support: ${info.touchSupport ? 'Yes' : 'No'}<br>
                Orientation: ${info.orientation}¬∞
            `;
        }
        
        function updateBreakpointIndicator() {
            const width = window.innerWidth;
            let breakpoint = 'Mobile';
            
            if (width >= BREAKPOINTS.large) breakpoint = 'Large Desktop';
            else if (width >= BREAKPOINTS.desktop) breakpoint = 'Desktop';
            else if (width >= BREAKPOINTS.tablet) breakpoint = 'Tablet';
            
            document.getElementById('breakpointIndicator').textContent = breakpoint;
        }
        
        // Event Listeners
        window.addEventListener('resize', () => {
            updateViewportInfo();
            updateBreakpointIndicator();
            runResponsiveTest();
        });
        
        window.addEventListener('orientationchange', () => {
            setTimeout(() => {
                updateViewportInfo();
                runResponsiveTest();
            }, 500);
        });
        
        // Initialize on load
        window.addEventListener('load', initTests);
        
        // Initialize immediately if already loaded
        if (document.readyState === 'complete') {
            initTests();
        }
    </script>
</body>
</html>